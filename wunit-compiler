(function(){_a=function(a){this.a=a;this.b=[];this.c="";this.d=function(){return this.b;};this.e=function(b){this.c=b;var c=this.f();new _b(this.b).g(c);};this.h=function(){return this.a;};this.f=function(){return new _c(this.i());};this.i=function(){return this.c;};};_d=function(){this.j=0;this.k=[];this.l=0;this.m=function(){return this.j;};this.n=function(){return this.k;};this.o=function(){return (!this.l);};this.p=function(){return this.l;};this.q=function(a){(this.j+=1);if((!a)){this.r("Failed an assertion")};};this.s=function(a,b){(this.j+=1);if((b!=a)){this.r(((("Failed asserting that "+b)+" is equal to actual ")+a));};};this.t=function(a,b){(this.j+=1);if((b!=a)){this.r(((("Failed asserting that "+new _e(b).u())+" is equal to actual ")+new _e(a).u()));};};this.v=function(a){this.w(a,1);};this.x=function(a){this.w(a,0);};this.w=function(a,b){(this.j+=1);if((b!=a)){var c="Failed asserting that ";if(b){c=(c+"true is equal to actual false")}else{c=(c+"false is equal to actual true")};this.r(c);};};this.r=function(a){this.l=1;new _b(this.k).g(a);};};_f=function(){this.y=function(a,b){for(var c=0;c < a.length; c++){var d=a[c];b.z((("import "+d.h())+";"));};b.z("import System; import TestResultReporter; import Asserts; import Printer;");b.z("every TestSuite is: needs ");for(var c=0;c < a.length; c++){var d=a[c];b.z(d.h());b.z(", ");};b.z("TestResultReporter; provides Asserts, Printer; tests() {");b.z("var Asserts <- this;");for(var c=0;c < a.length; c++){var d=a[c];var e=d.d();for(var f=0;f < e.length; f++){var g=e[f];b.z("Asserts = Asserts <- this;");b.z((((("TestResultReporter.begin(\""+d.h())+"\", \"")+g.h())+"\");"));b.z((((d.h()+".")+g.h())+";"));b.z("TestResultReporter.end(Asserts);");};};b.z("TestResultReporter.report(); }");};};_g=function(){this.A=function(a){var b=[];var c=a.B();for(var d=0;d < c.length; d++){var e=c[d];if((new _h(e.C()).D(-6)==".table")){new _b(b).g(e.E());};};return b;};};_c=function(a){this.a=a;this.h=function(){return this.a;};};_i=function(a){this.F=a;this.G="";this.H=function(b){var c=b.I();if((c==0)){return ""};return b.J(c);};this.K=function(b,c){var d=this.L();d.M=b;if((b==1)){if((c.I()!=0)){d.N=this.O(c);};while(((b=c.I())!=0)){new _b(d.P).g(this.K(b,c));};}else{if((b==2)){d.Q=this.H(c);while(((b=c.I())!=0)){new _b(d.R).g(this.K(b,c));};c.I();}else{if((b==3)){d.Q=this.H(c);if(((b=c.I())!=0)){d.S=this.O(c);};if(((b=c.I())!=0)){d.T=this.O(c);};c.I();}}};d.U=c.I();this.H(c);this.H(c);d.V=c.I();return d;};this.O=function(b){return this.K(b.I(),b);};this.W=function(b){var c=this.H(b);if((new _h(c).D(-4)!="Test")){return null};if((b.I()!=0)){return null};this.G=c;var d=this.X();var e=0;while(((e=b.I())!=0)){c=b.J(e);this.H(b);var f=b.I();var g=this.O(b);if((((new _h(c).Y(0,4)!="test")&(new _h(c).Y(0,6)!="~[test"))&(new _h(c).Y(0,7)!="~[ test"))){continue;};if((g.M!=1)){continue;};if((g.N!=null)){continue;};if((new _b(g.P).Z()!=1)){continue;};if(((g.P)[0].M!=2)){continue;};if(((g.P)[0].Q!="Asserts")){continue;};if((new _b((g.P)[0].R).Z()!=0)){continue;};if(((g.P)[0].U!=0)){continue;};if(((g.P)[0].V!=0)){continue;};d.e(c);};return d;};this.X=function(){return new _a(this.i());};this.i=function(){return this.G;};this.L=function(){return new _j();};};_j=function(){this.T=null;this.S=null;this.P=[];this.N=null;this.R=[];this.Q="";this.V=0;this.U=0;this.M=0;};_k=function(a,b,c,d,e){this.F=a;this.aa=b;this.ba=c;this.ca=d;this.da=e;this.ea=function(){var f=this.da.A(this.ba.fa("bin/waketable"));var g=[];for(var h=0;h < f.length; h++){var i=f[h];var j=this.aa.W(i);if(j!=null){new _b(g).g(j);};};var h=this.ba.fa("bin/TestSuite.wk");if(h.ga()){h.ha()};this.ca.y(g,h.E());this.F.ia("Done");};};_l=function(a,b){this.F=a;this.ja=b;this.ka=[];this.la=0;this.j=0;this.ma=0;this.na=0;this.oa="";this.pa="";this.qa=function(){this.F.ia("");this.F.ia("");this.F.ra("Tests Run: ");this.F.sa(this.na);this.F.ra("Tests Failed: ");this.F.sa(this.ma);this.F.ra("Assertions: ");this.F.sa(this.j);this.F.ia("");var c=this.ka;for(var d=0;d < c.length; d++){var e=c[d];this.F.ia(e);};if((this.ma>0)){this.ja.ta(1)};};this.ua=function(c){(this.na+=1);(this.j+=c.m());if(c.p()){this.F.ra("F")}else{this.F.ra(".")};(this.la+=1);if((this.la==50)){(this.la-=50);this.F.ra("\n");};if((!c.p())){return };(this.ma+=1);new _b(this.ka).g((((("Failure in "+this.pa)+".")+this.oa)+":"));var d=c.n();for(var e=0;e < d.length; e++){var f=d[e];new _b(this.ka).g(("	"+f));};new _b(this.ka).g("");};this.va=function(c,d){this.pa=c;this.oa=d;};};var b='';var fs=require("fs");fs.existsSync=fs.existsSync||require("path").existsSync;_m=function(){this.ra=this.wa=function(a){if(typeof process!='undefined'&&typeof process.stdout!='undefined'&&typeof process.stdout.write!='undefined')process.stdout.write(''+a);else b+=''+a;};this.ia=this.sa=function(a){if(typeof process!='undefined'&&typeof process.stdout!='undefined'&&typeof process.stdout.write!='undefined')return this.ra(a+'\n');console.log(b+a);b='';};};_n=function(){this.ta=function(a){if(typeof process!='undefined'&&typeof process.exit!='undefined')process.exit(a);};};_e=function(a){this.xa=function(){return a*a;};this.ya=function(){return a<0?a*-1:a;};this.za=function(b){return a<b?b:a;};this.Aa=function(b){var c=0,d;for(d=a;c<b.length;c++){if(a<b[c])d=b[c];}return d;};this.Ba=function(b){return a>b?b:a;};this.Ca=function(b){var c=0,d;for(d=a;c<b.length;c++){if(a>b[c])d=b[c];}return d;};this.Da=function(b){var b=1,c=this.ya();while((c/=10)>1)b++;return b;};this.Ea=function(){return Math.floor(a);};this.Fa=function(){return Math.ceil(a);};this.Ga=function(){return Math.round(a);};this.u=function(){return a+"";};this.Ha=function(b){return a%b;};};_h=function(a){this.Ia=function(){return a.toUpperCase();};this.Ja=function(){return a.toLowerCase();};this.Ka=function(){return a.replace(/([a-z])|([A-Z])/g,function(b,c){return(c)?b.toUpperCase():b.toLowerCase()});};this.La=function(){return a.trim();};this.Z=function(){return a.length;};this.D=this.Y=function(b,c){return a.substr(b,c);};this.Ma=function(){return /^(\-|\+)?([0-9]+(\.[0-9]+)?)$/.test(a)?parseFloat(a):null;};this.Na=function(b){return a[b];};this.Oa=function(b){var c=a.indexOf(b);return c===-1?null:c;};this.Pa=function(b){return a.split(b);};};_b=function(a){this.Z=function(){return a.length;};this.Qa=function(b){return a.indexOf(b)>-1;};this.Ra=function(b){var d=[];for(var c=0;c<a.length;c++){if(b.indexOf(a[c])>-1)d[d.length]=a[c];}return d;};this.g=function(b){a.push(b);}};_o=function(){this.fa=function(a){return new _p(a);};this.Sa=function(){throw Error("listRoots is not implemented yet. Help a fella out!");};this.Ta=function(){return '/';};this.Ua=function(a,b,c){return this.fa(c.C+this.Ta()+a+(+new Date())+Math.rand()+b);};};_p=function(a){this.E=function(){return new _q(this);};this.Va=function(){returnthis;};this.C=function(){return a;};this.Wa=function(){return require('Path').basename(a);};this.Xa=function(){return require('Path').dirname(a);};this.Ya=function(){return this.ga()&&!this.Za();};this.Za=function(){return fs.statSync(a).isDirectory()};this.ga=function(){return fs.existsSync(a);};this.ab=function(){fs.mkdirSync(a);};this.B=function(){return fs.readdirSync(a).map(function(b){return new _p(a+'/'+b);});};this.bb=function(){var b=new _p(this.cb);return b.ga()?b:null;};this.ha=function(){fs.unlinkSync(a);};};_q=function(a){var b=0,c=1,d=fs.openSync(a.C(),'a+');this.C=function(){return a;};this.J=function(e){var f=new Buffer(e);if(!c){throw Error("File no longer open");}fs.readSync(d,f,0,e,b);b+=e;return f.toString('utf8',0,e);};this.I=function(){var e=new Buffer(1);if(!c){throw Error("File no longer open");}fs.readSync(d,e,0,1,b);b++;return e.readUInt8(0);};this.z=function(e){if(!c){throw Error("File no longer open");}var f=new Buffer(e,'utf8');b+=e.length;return fs.writeSync(d,f,0,e.length,b);};this.db=function(e){if(!c){throw Error("File no longer open");}var f=new Buffer(1);f.writeUInt8(e,0);b++;return fs.writeSync(d,f,0,1,b);};this.eb=function(){if(!c){throw Error("File no longer open");}fs.close(d);c=0;};this.fb=function(){if(!c){throw Error("File no longer open");}return b;};this.gb=function(e){if(!c){throw Error("File no longer open");}b=e;};};_r=function(a){this.u=function(){return a?"true":"false";};};(new _k(new _m(),new _i(new _m()),new _o(),new _f(),new _g())).ea();})();
